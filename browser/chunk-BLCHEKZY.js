import{a as Ee,b as De}from"./chunk-KU2GUQ7J.js";import"./chunk-X7TTHRIB.js";import"./chunk-IXWQW5YW.js";import{a as Ie}from"./chunk-U5LLP6YD.js";import{a as Fe}from"./chunk-TDB6GESY.js";import{c as ke}from"./chunk-7RX4OO66.js";import{I as A,e as H,h as z,i as X,l as we,m as Y,n as Z,s as Le,w as ee,z as ie}from"./chunk-DXN5HEWW.js";import"./chunk-VYHNEOQA.js";import{b as J,c as Ae,f as te}from"./chunk-CA2COJWB.js";import{n as R,o as be}from"./chunk-VEYZ72YH.js";import"./chunk-4YRY4IP2.js";import"./chunk-EMVC5IJA.js";import"./chunk-AIVTLASU.js";import"./chunk-AUJU2NY4.js";import{a as oe}from"./chunk-OQKDZ6KP.js";import{a as ae}from"./chunk-INQNQX5W.js";import{b as q,c as x,e as U,f as K,g as M,h as g,j as ye,l as W,m as Q,o as $e,q as xe}from"./chunk-6OBNDO3B.js";import{b as Ce,m as Te}from"./chunk-NXN4P4DR.js";import{a as Re}from"./chunk-QASMVVIP.js";import{a as Pe}from"./chunk-BUA7TEAX.js";import{ma as Se,qa as je}from"./chunk-22342MAH.js";import{$b as $,Ab as D,Bb as o,Cb as n,Db as u,Hb as w,Ib as f,Jb as r,Qc as G,Rc as ve,Sb as de,Tb as c,Ua as k,Vb as T,Ya as l,Z as B,_b as he,a as pe,ac as ge,b as me,ca as S,da as b,fb as m,g as _e,ha as y,nc as j,ob as C,qb as F,ra as _,rb as p,sa as h,vb as v,wb as L,xb as I,zb as E,zc as O}from"./chunk-QSF35MWG.js";var V=class{id;status;noTemplate;departmentId;roleId;positionId;levelId;attitudes;technicals};var ne=ae.APPRAISAL_API_URL+"/template-project-assessment",Oe=ae.APPRAISAL_API_URL+"/template-project-attitude",Me=ae.APPRAISAL_API_URL+"/template-project-technical",le=class i{constructor(t){this.http=t}list(t){return this.http.post(ne+"/list",t)}getById(t){return this.http.post(ne+"/"+t,{})}save(t){return this.http.post(ne+"/save",t)}delete(t){return this.http.post(ne+"/delete/"+t,{})}deleteAttitude(t){return this.http.post(Oe+"/delete/"+t,{})}deleteTechnical(t){return this.http.post(Me+"/delete/"+t,{})}validateDuplicateTemplate(t){return this.http.post(Me+"/validateDuplicateTemplate",t)}static \u0275fac=function(e){return new(e||i)(S(Ce))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var P=class i{constructor(t,e,a,s,d,fe,Rt,kt){this.spinnerService=t;this.dialogService=e;this.messageService=a;this.router=s;this.confirmationService=d;this.templateProjectAssessmentsService=fe;this.employeeService=Rt;this.rolePermissionService=kt;this.init()}fb=b($e);state={templateProject:{$dataList:m([]),$dataListAttitude:m([]),$dataListTechnical:m([]),$dataListAttitudeAll:m([]),$dataListTechnicalAll:m([]),$dataLoading:m(!1),$pagingInfo:m(new oe),$totalRowCount:m(1),$attitudeTotalRowCount:m(1),$technicalTotalRowCount:m(1),$selectedData:m(null),$selectedVerified:m(!0),$disabledTable:m(!1),$optionPosition:m([]),$optionLevel:m([]),$optionRole:m([]),$selectedCategory:m(null),$searchText:m(""),$searchBtnClickEvent:m(!1)},$formMode:m("idle"),$loading:m(!1)};$firstForm=m(this.fb.group({id:new g({value:null,disabled:!1}),noTemplate:new g({value:null,disabled:!0}),role:new g({value:null,disabled:!1},[x.required]),level:new g({value:null,disabled:!1},[x.required]),status:new g({value:null,disabled:!1},[x.required]),category:new g({value:null,disabled:!1},[x.required]),indicator:new g({value:null,disabled:!0},[x.required]),tools:new g({value:null,disabled:!0},[x.required])})).asReadonly();$searchIndicator=m(this.fb.group({searchText:new g({value:"",disabled:!1},[x.required])})).asReadonly();templateProject={$dataList:this.state.templateProject.$dataList.asReadonly(),$dataListAttitude:this.state.templateProject.$dataListAttitude.asReadonly(),$dataListTechnical:this.state.templateProject.$dataListTechnical.asReadonly(),$dataListAttitudeAll:this.state.templateProject.$dataListAttitudeAll.asReadonly(),$dataListTechnicalAll:this.state.templateProject.$dataListTechnicalAll.asReadonly(),$dataLoading:this.state.templateProject.$dataLoading.asReadonly(),$selectedData:this.state.templateProject.$selectedData.asReadonly(),$cols:m([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"noTemplate",header:"No Template",class_td:"!text-center"},{field:"roleName",header:"Role",class_td:"!text-center"},{field:"level",header:"Level",class_td:"!text-center",type:"desc"},{field:"status",header:"Status",class_td:"!text-center",type:"status"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$attitudeCols:m([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"sortNo",header:"Sort Number",class_td:"!text-center"},{field:"category",header:"Category",class_td:"!text-center"},{field:"indicator",header:"Indicator",class_td:"!text-center"},{field:"typeAnswer",header:"Type of Answer",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$techCols:m([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"sortNo",header:"Sort Number",class_td:"!text-center"},{field:"category",header:"Category",class_td:"!text-center"},{field:"tools",header:"Tools",class_td:"!text-center"},{field:"typeAnswer",header:"Type of Answer",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$pagingInfo:this.state.templateProject.$pagingInfo.asReadonly(),$totalRowCount:this.state.templateProject.$totalRowCount.asReadonly(),$attitudeTotalRowCount:this.state.templateProject.$attitudeTotalRowCount.asReadonly(),$technicalTotalRowCount:this.state.templateProject.$technicalTotalRowCount.asReadonly(),$optionPosition:this.state.templateProject.$optionPosition.asReadonly(),$optionLevel:this.state.templateProject.$optionLevel.asReadonly(),$optionRole:this.state.templateProject.$optionRole.asReadonly(),$selectedCategory:this.state.templateProject.$selectedCategory.asReadonly(),$searchText:O(()=>this.templateProject.$selectedCategory()==="id"?parseInt(this.state.templateProject.$searchText()):this.state.templateProject.$searchText()),$filter:O(()=>{let t=null;switch(this.state.templateProject.$selectedCategory()){case"noTemplate":t={noTemplate:this.templateProject.$searchText()};break;case"role":t={role:this.templateProject.$searchText()};break;case"level":t={level:this.templateProject.$searchText()};break;case"status":t={status:this.templateProject.$searchText()};break;default:t={};break}return t}),$disabledTable:O(()=>this.state.$formMode()=="update")};$formMode=this.state.$formMode.asReadonly();ref;init(){this.setSpinner(),this.populateList(),this.setOptionPosition(),this.setOptionLevel(),this.setOptionRoles()}setSpinner(){Re(this.state.$loading).subscribe(t=>t?this.spinnerService.show():this.spinnerService.hide())}populateList(){this.state.templateProject.$dataLoading.set(!0);let t={wrapper:this.templateProject.$filter(),pagingInfo:this.state.templateProject.$pagingInfo(),totalRowCount:this.state.templateProject.$totalRowCount()};this.templateProjectAssessmentsService.list(t).subscribe(e=>{e.status&&(this.state.templateProject.$dataList.set(e.object.dataList||[]),this.state.templateProject.$totalRowCount.set(e.object.totalRowCount||0),this.state.templateProject.$pagingInfo.set(e.object.pagingInfo||new oe)),this.state.templateProject.$dataLoading.set(!1)},e=>{console.error("Error:",e),this.state.templateProject.$dataList.set([]),this.state.templateProject.$totalRowCount.set(0),this.state.templateProject.$dataLoading.set(!1)})}onLazyLoad(t){this.state.templateProject.$pagingInfo.set(me(pe({},this.templateProject.$pagingInfo()),{currentPage:Math.floor(t.first/t.rows)+1,pageSize:t.rows})),this.populateList()}onSearchBtnClicked(t,e){this.state.templateProject.$selectedCategory.set(t),t&&this.state.templateProject.$searchText.set(e),this.populateList()}addAction(){this.$firstForm().reset(),this.$firstForm().get("status")?.setValue(1),this.state.templateProject.$dataListAttitude.set([]),this.state.templateProject.$dataListTechnical.set([]),this.state.templateProject.$dataListAttitudeAll.set([]),this.state.templateProject.$dataListTechnicalAll.set([]),this.state.$formMode.set("add")}deleteAction(t){this.confirmationService.confirm({header:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus data ini?",accept:()=>{this.doDelete(t.id)},reject:()=>{}})}doDelete(t){this.templateProjectAssessmentsService.delete(t).subscribe(e=>{e.status?(this.messageService.add({severity:"success",summary:"Success",detail:"Hapus data berhasil!"}),this.populateList()):this.messageService.add({severity:"error",summary:"Error",detail:e.message})},e=>{this.spinnerService.hide(),console.error("Error:",e)})}deleteActionAttitude(t){this.confirmationService.confirm({header:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus attitude ini?",accept:()=>{this.doDeleteAttitude(t.id)},reject:()=>{}})}doDeleteAttitude(t){this.templateProjectAssessmentsService.deleteAttitude(t).subscribe(e=>{e.status?(this.messageService.add({severity:"success",summary:"Success",detail:"Hapus data berhasil!"}),this.getById(this.$firstForm().get("id")?.value)):this.messageService.add({severity:"error",summary:"Error",detail:e.message})},e=>{this.spinnerService.hide(),console.error("Error:",e)})}deleteActionTechnical(t){this.confirmationService.confirm({header:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus technical ini?",accept:()=>{this.doDeleteTechnical(t.id)},reject:()=>{}})}doDeleteTechnical(t){this.templateProjectAssessmentsService.deleteTechnical(t).subscribe(e=>{e.status?(this.messageService.add({severity:"success",summary:"Success",detail:"Hapus data berhasil!"}),this.getById(this.$firstForm().get("id")?.value)):this.messageService.add({severity:"error",summary:"Error",detail:e.message})},e=>{this.spinnerService.hide(),console.error("Error:",e)})}editAction(t){this.getById(t?.id),this.state.$formMode.set("add")}getById(t){return _e(this,null,function*(){this.spinnerService.show(),this.templateProjectAssessmentsService.getById(t).subscribe(e=>{let a=e.object;this.$firstForm().patchValue({id:a.id,noTemplate:a.noTemplate,role:a.role,level:a.level,status:a.status,category:a.category,indicator:a.indicator,tools:a.tools}),this.state.templateProject.$dataListAttitude.set(a.attitudes||[]),this.state.templateProject.$dataListAttitudeAll.set(a.attitudes||[]),this.state.templateProject.$attitudeTotalRowCount.set(Object.keys(a.attitudes).length||0),this.state.templateProject.$dataListTechnical.set(a.technicals||[]),this.state.templateProject.$dataListTechnicalAll.set(a.technicals||[]),this.state.templateProject.$technicalTotalRowCount.set(Object.keys(a.technicals).length||0),this.spinnerService.hide()},e=>{this.spinnerService.hide(),console.error("Error:",e)})})}onClickLookupIndicator(){this.ref=this.dialogService.open(Ee,{header:"Lookup Attitude Question",modal:!0}),this.ref.onClose.subscribe(t=>{let e=this.templateProject.$dataListAttitudeAll();e.push(t),this.state.templateProject.$dataListAttitude.set(e),this.state.templateProject.$dataListAttitudeAll.set(e)})}onClickLookupTools(){this.ref=this.dialogService.open(De,{header:"Lookup Skill Question",modal:!0}),this.ref.onClose.subscribe(t=>{let e=this.templateProject.$dataListTechnicalAll();e.push(t),this.state.templateProject.$dataListTechnical.set(e),this.state.templateProject.$dataListTechnicalAll.set(e)})}saveAction(){console.log(this.$firstForm()),this.confirmationService.confirm({header:"Konfirmasi",message:"Apakah Anda yakin ingin menyimpan data?",accept:()=>{this.doSave()},reject:()=>{}})}doSave(){this.spinnerService.show();let t=new V;t.id=this.$firstForm().get("id")?.value,t.status=this.$firstForm().get("status")?.value,t.roleId=this.$firstForm().get("role")?.value,t.positionId=this.$firstForm().get("posisi")?.value,t.levelId=this.$firstForm().get("level")?.value,t.attitudes=this.state.templateProject.$dataListAttitudeAll(),t.technicals=this.state.templateProject.$dataListTechnicalAll(),this.templateProjectAssessmentsService.save(t).subscribe(e=>{e.status?(this.state.$formMode.set("idle"),this.messageService.add({severity:"success",summary:"Success",detail:"Simpan data berhasil!"})):this.messageService.add({severity:"error",summary:"Error",detail:e.message}),this.spinnerService.hide()},e=>{this.spinnerService.hide(),console.error("Error:",e)})}cancelAction(){this.$firstForm().reset(),this.state.templateProject.$dataListAttitude.set([]),this.state.templateProject.$dataListTechnical.set([]),this.state.templateProject.$dataListAttitudeAll.set([]),this.state.templateProject.$dataListTechnicalAll.set([]),this.state.$formMode.set("idle")}setOptionPosition(){this.employeeService.getPositionList().subscribe(t=>{if(t.status){let e=t.object.map(a=>({label:a.label,value:a.value}));this.state.templateProject.$optionPosition.set(e)}else console.error("Failed to fetch position list:",t.message)},t=>{console.error("Error fetching position list:",t)})}setOptionLevel(){this.employeeService.getLevelList().subscribe(t=>{if(t.status){let e=t.object.map(a=>({label:a.label,value:a.value}));this.state.templateProject.$optionLevel.set(e)}else console.error("Failed to fetch level list:",t.message)},t=>{console.error("Error fetching level list:",t)})}setOptionRoles(){this.rolePermissionService.listRoles({pagingInfo:me(pe({},new oe),{retrieveAll:!0}),wrapper:{},totalRowCount:0}).subscribe(t=>{this.state.templateProject.$optionRole.set(t.object.dataList.map(e=>({label:e.name,value:e.id}))||[])})}validateDuplicateTemplate(){if(this.$firstForm().get("level")?.value&&this.$firstForm().get("posisi")?.value){let t=new V;t.roleId=this.$firstForm().get("role")?.value,t.levelId=this.$firstForm().get("level")?.value,t.positionId=this.$firstForm().get("posisi")?.value,this.templateProjectAssessmentsService.validateDuplicateTemplate(t).subscribe(e=>{e.status?e.object?(this.$firstForm().get("status")?.setValue(0),this.$firstForm().get("status")?.disable()):this.$firstForm().get("status")?.setValue(1):this.messageService.add({severity:"error",summary:"Error",detail:e.message})},e=>{console.error("Error:",e)})}}onButtonSearchAttitudeClicked(t,e){let a=this.templateProject.$dataListAttitudeAll();a.map(s=>t==="category"&&s.category?.toLowerCase()===e.toLowerCase()||t==="indicator"&&s.indicator?.toLowerCase()===e.toLowerCase()?s:null),this.state.templateProject.$dataListAttitude.set(a)}onButtonSearchTechnicalClicked(t,e){let a=this.templateProject.$dataListTechnicalAll();a.map(s=>t==="category"&&s.category?.toLowerCase()===e.toLowerCase()||t==="tools"&&s.nameSkill?.toLowerCase()===e.toLowerCase()?s:null),this.state.templateProject.$dataListTechnical.set(a)}static \u0275fac=function(e){return new(e||i)(S(Pe),S(ke),S(je),S(Te),S(Se),S(le),S(Fe),S(Ie))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var re=class i{searchForm=new M({category:new g({value:null,disabled:!1}),search:new g({value:"",disabled:!1})});searchOptions=[{label:"Semua",value:null},{label:"No Template",value:"noTemplate"},{label:"Role",value:"role"},{label:"Level",value:"level"},{label:"Status",value:"status"}];templateProjectStore=b(P);tempSearch="";constructor(){this.onSearchChanges()}onSearchChanges(){this.searchForm.controls.search.valueChanges.subscribe(t=>{this.tempSearch=t})}onRefreshSearch(){this.searchForm.patchValue({search:"",categofy:null})}onButtonClicked(){this.templateProjectStore.onSearchBtnClicked(this.searchForm.get("category")?.value,this.searchForm.get("search")?.value)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-template-project-search"]],standalone:!0,features:[$],decls:9,vars:2,consts:[[1,"grid","grid-cols-12","grid-flow-rows","gap-2","w-full",3,"formGroup"],[1,"col-span-3","md:col-span-3"],["formControlName","category","placeholder","Search By",1,"w-full","!h-full",3,"options"],[1,"col-span-9","md:col-span-9","w-full"],["pInputText","","formControlName","search","name","search",1,"col-span-5","md:col-span-5"],["icon","pi pi-search","label","Search",1,"w-full","!h-full",3,"click"],["icon","pi pi-refresh","label","Reset","severity","info",1,"w-full","!h-full",3,"click"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1),u(2,"p-select",2),n(),o(3,"p-inputgroup",3),u(4,"input",4),o(5,"p-inputgroup-addon")(6,"p-button",5),f("click",function(){return a.onButtonClicked()}),n()(),o(7,"p-inputgroup-addon")(8,"p-button",6),f("click",function(){return a.onRefreshSearch()}),n()()()()),e&2&&(p("formGroup",a.searchForm),l(2),p("options",a.searchOptions))},dependencies:[xe,q,U,K,W,Q,ie,Ae,J,be,R,A,X,ee,te]})};var Je=()=>[5,10,20];function Xe(i,t){if(i&1&&(o(0,"th",10),c(1),n()),i&2){let e=t.$implicit;l(),T(" ",e.header," ")}}function Ye(i,t){if(i&1&&(o(0,"tr"),C(1,Xe,2,1,"th",9),n()),i&2){let e=t.$implicit;l(),p("ngForOf",e)}}function Ze(i,t){if(i&1&&(o(0,"td"),u(1,"div",13),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),p("outerHTML",e.template(a[e.field]),k)}}function et(i,t){if(i&1){let e=w();o(0,"td")(1,"p-button",14),f("click",function(){_(e);let s=r(2).$implicit,d=r();return h(d.templateProjectStore.editAction(s))}),n(),o(2,"p-button",15),f("click",function(){_(e);let s=r(2).$implicit,d=r();return h(d.templateProjectStore.deleteAction(s))}),n()()}if(i&2){let e=r().$implicit;v(e.class_td)}}function tt(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().rowIndex;v(e.class_td),l(),T(" ",a+1," ")}}function it(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),T(" ",a[e.field].description," ")}}function at(i,t){i&1&&c(0," Inactive ")}function ot(i,t){i&1&&c(0," Active ")}function nt(i,t){if(i&1&&(o(0,"td"),C(1,at,1,0)(2,ot,1,0),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),L(a[e.field]==0?1:a[e.field]==0?2:-1)}}function lt(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),T(" ",a[e.field]," ")}}function rt(i,t){if(i&1&&C(0,Ze,2,3,"td",12)(1,et,3,2,"td",12)(2,tt,2,3,"td",12)(3,it,2,3,"td",12)(4,nt,3,3,"td",12)(5,lt,2,3,"td",12),i&2){let e,a=t.$implicit;L((e=a.type)==="custom"?0:e==="action"?1:e==="no"?2:e==="desc"?3:e==="status"?4:5)}}function st(i,t){if(i&1&&(o(0,"tr",11),E(1,rt,6,1,null,null,I),n()),i&2){let e=t.$implicit,a=t.columns;p("pSelectableRow",e),l(),D(a)}}function ct(i,t){if(i&1&&(o(0,"tr")(1,"td",16),c(2,"Data Kosong"),n()()),i&2){let e=r();l(),F("colspan",e.templateProjectStore.templateProject.$cols().length)}}var se=class i{templateProjectStore=b(P);static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-template-project-list"]],standalone:!0,features:[$],decls:13,vars:12,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[1,"grid","gap-2"],[1,"flex","justify-end","items-center","gap-1","flex-col","md:flex-row","mb-2","w-full"],["label","+ Add Template","styleClass","w-full p-button-contrast",1,"col-start-4","col-end-5","gap-2",3,"onClick"],[3,"onLazyLoad","columns","value","loading","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","totalRecords"],[3,"blocked","target"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],[3,"class"],[3,"outerHTML"],["styleClass","p-button-info","icon","pi pi-pencil","pTooltip","Edit",3,"click"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Delete",3,"click"],[1,"!text-center","w-full"]],template:function(e,a){if(e&1){let s=w();o(0,"div",4),u(1,"app-template-project-search"),o(2,"div",5)(3,"p-button",6),f("onClick",function(){return _(s),h(a.templateProjectStore.addAction())}),n()(),o(4,"p-table",7,0),f("onLazyLoad",function(fe){return _(s),h(a.templateProjectStore.onLazyLoad(fe))}),C(6,Ye,2,1,"ng-template",null,1,j)(8,st,3,1,"ng-template",null,2,j)(10,ct,3,1,"ng-template",null,3,j),n()(),u(12,"p-blockui",8)}if(e&2){let s=de(5),d=de(9);l(4),p("columns",a.templateProjectStore.templateProject.$cols())("value",a.templateProjectStore.templateProject.$dataList())("loading",a.templateProjectStore.templateProject.$dataLoading())("paginator",!0)("rows",5)("rowsPerPageOptions",ge(11,Je))("paginatorDropdownAppendTo",d)("lazy",!0)("totalRecords",a.templateProjectStore.templateProject.$totalRowCount()),l(8),p("blocked",a.templateProjectStore.templateProject.$disabledTable())("target",s)}},dependencies:[A,R,Y,Z,G,Le,H,ie,re]})};function mt(i,t){if(i&1&&(o(0,"th",39),c(1),n()),i&2){let e=t.$implicit;l(),T(" ",e.header," ")}}function dt(i,t){if(i&1&&(o(0,"tr"),C(1,mt,2,1,"th",38),n()),i&2){let e=t.$implicit;l(),p("ngForOf",e)}}function ut(i,t){if(i&1&&(o(0,"td"),u(1,"div",42),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),p("outerHTML",e.template(a[e.field]),k)}}function ft(i,t){if(i&1){let e=w();o(0,"td")(1,"p-button",43),f("click",function(){_(e);let s=r(2).$implicit,d=r();return h(d.templateProjectStore.deleteActionAttitude(s))}),n()()}if(i&2){let e=r().$implicit;v(e.class_td)}}function _t(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().rowIndex;v(e.class_td),l(),T(" ",a+1," ")}}function ht(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),T(" ",a[e.field]," ")}}function gt(i,t){if(i&1&&C(0,ut,2,3,"td",41)(1,ft,2,2,"td",41)(2,_t,2,3,"td",41)(3,ht,2,3,"td",41),i&2){let e,a=t.$implicit;L((e=a.type)==="custom"?0:e==="action"?1:e==="no"?2:3)}}function vt(i,t){if(i&1&&(o(0,"tr",40),E(1,gt,4,1,null,null,I),n()),i&2){let e=t.$implicit,a=t.columns;p("pSelectableRow",e),l(),D(a)}}function Ct(i,t){if(i&1&&(o(0,"tr")(1,"td",44),c(2," Data Kosong"),n()()),i&2){let e=r();l(),F("colspan",e.templateProjectStore.templateProject.$attitudeCols().length)}}function Tt(i,t){if(i&1&&(o(0,"th",39),c(1),n()),i&2){let e=t.$implicit;l(),T(" ",e.header," ")}}function St(i,t){if(i&1&&(o(0,"tr"),C(1,Tt,2,1,"th",38),n()),i&2){let e=t.$implicit;l(),p("ngForOf",e)}}function jt(i,t){if(i&1&&(o(0,"td"),u(1,"div",42),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),p("outerHTML",e.template(a[e.field]),k)}}function Pt(i,t){if(i&1){let e=w();o(0,"td")(1,"p-button",45),f("click",function(){_(e);let s=r(2).$implicit,d=r();return h(d.templateProjectStore.deleteActionTechnical(s))}),n()()}if(i&2){let e=r().$implicit;v(e.class_td)}}function bt(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().rowIndex;v(e.class_td),l(),T(" ",a+1," ")}}function yt(i,t){if(i&1&&(o(0,"td"),c(1),n()),i&2){let e=r().$implicit,a=r().$implicit;v(e.class_td),l(),T(" ",a[e.field]," ")}}function $t(i,t){if(i&1&&C(0,jt,2,3,"td",41)(1,Pt,2,2,"td",41)(2,bt,2,3,"td",41)(3,yt,2,3,"td",41),i&2){let e,a=t.$implicit;L((e=a.type)==="custom"?0:e==="action"?1:e==="no"?2:3)}}function xt(i,t){if(i&1&&(o(0,"tr",40),E(1,$t,4,1,null,null,I),n()),i&2){let e=t.$implicit,a=t.columns;p("pSelectableRow",e),l(),D(a)}}function At(i,t){if(i&1&&(o(0,"tr")(1,"td",44),c(2,"Data Kosong"),n()()),i&2){let e=r();l(),F("colspan",e.templateProjectStore.templateProject.$techCols().length)}}var ce=class i{templateProjectStore=b(P);searchOptionsAttitude=[{label:"Semua",value:null},{label:"Category",value:"category"},{label:"Indicator",value:"indicator"}];searchOptionsTechnical=[{label:"Semua",value:null},{label:"Category",value:"category"},{label:"Tools",value:"tools"}];searchFormAttitude=new M({category:new g({value:null,disabled:!1}),search:new g({value:"",disabled:!1})});searchFormTechnical=new M({category:new g({value:null,disabled:!1}),search:new g({value:"",disabled:!1})});onRefreshSearchAttitude(){this.searchFormAttitude.patchValue({search:"",category:null})}onRefreshSearchTechnical(){this.searchFormTechnical.patchValue({search:"",category:null})}onButtonSearchAttitudeClicked(){this.templateProjectStore.onButtonSearchAttitudeClicked(this.searchFormAttitude.get("category")?.value,this.searchFormAttitude.get("search")?.value)}onButtonSearchTechnicalClicked(){this.templateProjectStore.onButtonSearchTechnicalClicked(this.searchFormTechnical.get("category")?.value,this.searchFormTechnical.get("search")?.value)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-add-template"]],standalone:!0,features:[$],decls:88,vars:15,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[3,"formGroup"],["header","Add Template"],[1,"grid","grid-cols-12","gap-12"],[1,"col-span-12","md:col-span-6","grid","gap-2"],[1,"grid","grid-cols-12","items-center","gap-2"],[1,"col-span-3"],["for","noEmployee"],[1,"col-span-1"],[1,"col-span-8"],["id","noTemplate","type","text","pInputText","","formControlName","noTemplate",1,"w-full"],["for","roles"],["formControlName","role","id","role","name","role","placeholder","-- Pilih --",1,"w-full",3,"onChange","options"],["for","level"],["formControlName","level","id","level","name","level","placeholder","-- Pilih --",1,"w-full",3,"onChange","options"],["for","status"],[1,"col-span-1","flex","items-center"],["formControlName","status","id","active","name","status","value","1","label","Active",1,"w-full"],["formControlName","status","id","inactive","name","status","value","0","label","Inactive",1,"w-full"],["header","A. Attitude Skill Set",1,"mt-6","pt-6"],[1,"grid","grid-cols-12","grid-flow-rows","gap-2","w-full",3,"formGroup"],[1,"col-span-2","md:col-span-2"],["formControlName","category","placeholder","Search By",1,"w-full","!h-full",3,"options"],[1,"col-span-7","md:col-span-7","w-full"],["pInputText","","formControlName","search","name","search",1,"col-span-5","md:col-span-5"],["icon","pi pi-search","label","Search",1,"w-full","!h-full",3,"click"],["icon","pi pi-refresh","label","Reset","severity","info",1,"w-full","!h-full",3,"click"],[1,"col-span-3","md:col-span-3"],["label","Lookup Indicator","styleClass","w-full !h-full","icon","pi pi-search","severity","contrast",3,"onClick"],[3,"columns","value","loading","totalRecords"],["header","Technical Skill Set"],["label","Lookup Tools","styleClass","w-full !h-full","icon","pi pi-search","severity","contrast",3,"onClick"],[1,"flex","justify-end","items-center","gap-2"],["styleClass","p-button-success","icon","pi pi-save","label","Simpan",3,"click"],["styleClass","p-button-danger","icon","pi pi-times","label","Batal",3,"click"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],[3,"class"],[3,"outerHTML"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Hapus Attitude",3,"click"],[1,"!text-center","w-full"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Hapus Technical",3,"click"]],template:function(e,a){if(e&1){let s=w();o(0,"form",4)(1,"p-panel",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),c(7,"No Template"),n()(),o(8,"div",11),c(9,":"),n(),o(10,"div",12),u(11,"input",13),n()(),o(12,"div",8)(13,"div",9)(14,"label",14),c(15,"Roles"),n()(),o(16,"div",11),c(17,":"),n(),o(18,"div",12)(19,"p-select",15),f("onChange",function(){return _(s),h(a.templateProjectStore.validateDuplicateTemplate())}),n()()(),o(20,"div",8)(21,"div",9)(22,"label",16),c(23,"Level"),n()(),o(24,"div",11),c(25,":"),n(),o(26,"div",12)(27,"p-select",17),f("onChange",function(){return _(s),h(a.templateProjectStore.validateDuplicateTemplate())}),n()()(),o(28,"div",8)(29,"div",9)(30,"label",18),c(31,"Status"),n()(),o(32,"div",11),c(33,":"),n(),o(34,"div",19),u(35,"p-radiobutton",20),c(36," \xA0\xA0 "),o(37,"label"),c(38,"Active"),n()(),u(39,"div",11),o(40,"div",19),u(41,"p-radiobutton",21),c(42," \xA0\xA0 "),o(43,"label"),c(44,"Inactive"),n()()()()()(),o(45,"p-panel",22)(46,"div",23)(47,"div",24),u(48,"p-select",25),n(),o(49,"p-inputgroup",26),u(50,"input",27),o(51,"p-inputgroup-addon")(52,"p-button",28),f("click",function(){return _(s),h(a.onButtonSearchAttitudeClicked())}),n()(),o(53,"p-inputgroup-addon")(54,"p-button",29),f("click",function(){return _(s),h(a.onRefreshSearchAttitude())}),n()()(),o(55,"div",30)(56,"p-button",31),f("onClick",function(){return _(s),h(a.templateProjectStore.onClickLookupIndicator())}),n()()(),o(57,"p-table",32,0),C(59,dt,2,1,"ng-template",null,1,j)(61,vt,3,1,"ng-template",null,2,j)(63,Ct,3,1,"ng-template",null,3,j),n()(),o(65,"p-panel",33)(66,"div",23)(67,"div",24),u(68,"p-select",25),n(),o(69,"p-inputgroup",26),u(70,"input",27),o(71,"p-inputgroup-addon")(72,"p-button",28),f("click",function(){return _(s),h(a.onButtonSearchTechnicalClicked())}),n()(),o(73,"p-inputgroup-addon")(74,"p-button",29),f("click",function(){return _(s),h(a.onRefreshSearchTechnical())}),n()()(),o(75,"div",30)(76,"p-button",34),f("onClick",function(){return _(s),h(a.templateProjectStore.onClickLookupTools())}),n()()(),o(77,"p-table",32,0),C(79,St,2,1,"ng-template",null,1,j)(81,xt,3,1,"ng-template",null,2,j)(83,At,3,1,"ng-template",null,3,j),n()(),o(85,"div",35)(86,"p-button",36),f("click",function(){return _(s),h(a.templateProjectStore.saveAction())}),n(),o(87,"p-button",37),f("click",function(){return _(s),h(a.templateProjectStore.cancelAction())}),n()()()}e&2&&(p("formGroup",a.templateProjectStore.$firstForm()),l(19),p("options",a.templateProjectStore.templateProject.$optionRole()),l(8),p("options",a.templateProjectStore.templateProject.$optionLevel()),l(19),p("formGroup",a.searchFormAttitude),l(2),p("options",a.searchOptionsAttitude),l(9),p("columns",a.templateProjectStore.templateProject.$attitudeCols())("value",a.templateProjectStore.templateProject.$dataListAttitude())("loading",a.templateProjectStore.templateProject.$dataLoading())("totalRecords",a.templateProjectStore.templateProject.$attitudeTotalRowCount()),l(9),p("formGroup",a.searchFormTechnical),l(2),p("options",a.searchOptionsTechnical),l(9),p("columns",a.templateProjectStore.templateProject.$techCols())("value",a.templateProjectStore.templateProject.$dataListTechnical())("loading",a.templateProjectStore.templateProject.$dataLoading())("totalRecords",a.templateProjectStore.templateProject.$technicalTotalRowCount()))},dependencies:[A,z,ye,q,U,K,J,X,R,Y,Z,G,we,H,ee,te,W,Q]})};function wt(i,t){i&1&&u(0,"app-template-project-list")}function Lt(i,t){i&1&&u(0,"app-add-template")}var Be=class i{templateProjectStore=b(P);constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-template-project-assessments"]],standalone:!0,features:[he([P]),$],decls:4,vars:2,consts:[["header","Template Project List",1,"blue"],[1,"mt-6"],[4,"ngIf"]],template:function(e,a){e&1&&(o(0,"p-panel",0)(1,"div",1),C(2,wt,1,0,"app-template-project-list",2)(3,Lt,1,0,"app-add-template",2),n()()),e&2&&(l(2),p("ngIf",a.templateProjectStore.$formMode()==="idle"),l(),p("ngIf",a.templateProjectStore.$formMode()==="add"))},dependencies:[A,z,ve,se,ce]})};export{Be as TemplateProjectAssessmentsComponent};
