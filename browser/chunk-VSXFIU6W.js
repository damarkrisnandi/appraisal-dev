import{a as je,b as Ue}from"./chunk-AWLNPMUG.js";import"./chunk-54BBQ6WT.js";import"./chunk-6LRMG4LY.js";import{a as Be}from"./chunk-XNS2ANDN.js";import{c as Pe}from"./chunk-FO6KVJXE.js";import{A as Re,K as A,e as J,h as X,i as se,m as ne,n as ie,o as De,p as Ie,u as le,y as Me}from"./chunk-RAQWMTHX.js";import{b as R,f as Ee}from"./chunk-R7WHARF6.js";import{p as D}from"./chunk-W6BPNARK.js";import"./chunk-4YRY4IP2.js";import"./chunk-EMVC5IJA.js";import"./chunk-AIVTLASU.js";import"./chunk-AUJU2NY4.js";import{a as Ve}from"./chunk-OQKDZ6KP.js";import{b as M,e as E,f as Y,g as Z,h as L,i as we,k as Fe,l as ee,m as te,r as Ne}from"./chunk-3RUIS27I.js";import{b as $e}from"./chunk-NXN4P4DR.js";import{a as _e}from"./chunk-QASMVVIP.js";import{a as xe}from"./chunk-BUA7TEAX.js";import{ma as Le,qa as ke}from"./chunk-22342MAH.js";import{$b as b,A as B,Ab as W,Bb as l,Cb as i,Db as c,H as j,Hb as w,I as be,Ib as u,Jb as r,O as Ae,Qc as Q,Sb as P,Tb as f,Ua as O,Vb as $,W as Te,Xb as fe,Ya as o,Yb as ue,Z as U,Zb as Se,_b as ve,a as Ce,ac as K,b as ye,ca as v,da as k,fb as m,ha as y,nc as F,ob as _,qb as H,ra as h,rb as p,sa as g,vb as S,wb as x,xb as z,za as G,zb as q,zc as I}from"./chunk-QSF35MWG.js";var ae=class{id;noTemplate;departmentId;positionId;levelId;unitId;default;selfTechDetailList=[];selfAttitudeDetailList=[];summaryList=[]};var V=class{id;mstAssessmentId;assessmentCatId;assessmentCatName;bobot};var he=Ne.APPRAISAL_API_URL+"/template-self-assessment",oe=class s{constructor(e){this.http=e}findByCriteriaPaginated(e){return this.http.post(he+"/findByCriteriaPaginated",e)}save(e){return this.http.post(he+"/save",e)}delete(e){return this.http.delete(he+"delete/"+e)}static \u0275fac=function(t){return new(t||s)(v($e))};static \u0275prov=U({token:s,factory:s.\u0275fac,providedIn:"root"})};var C=class s{constructor(e,t,n,a,d,T){this.templateSelfAssessmentsService=e;this.spinnerService=t;this.messageService=n;this.confirmationService=a;this.dialogService=d;this.employeeService=T;this.init()}state={templateSelfAssessments:{$dataList:m([]),$dataLoading:m(!1),$pagingInfo:m(new Ve),$totalRowCount:m(1),$selectedData:m(null),$selectedVerified:m(!0),$disabledTable:m(!1),$optionsCategory:m([]),$selectedCategory:m(null),$searchText:m(""),$searchBtnClickEvent:m(!1)},formTemplateSelfAssessments:{$optionsDepartment:m([]),$optionsPosition:m([]),$optionsLevel:m([]),$optionsUnit:m([]),attitudeSkillset:{$dataList:m([]),$dataLoading:m(!1),$optionsCategory:m([]),$selectedCategory:m(null)},technicalSkillset:{$dataList:m([]),$dataLoading:m(!1),$optionsCategory:m([]),$selectedCategory:m(null)},summarySet:{$dataList:m([{assessmentCatId:null,assessmentCatName:"Pencapaian",bobot:15},{assessmentCatId:null,assessmentCatName:"Peningkatan Keahlian",bobot:15}]),$dataLoading:m(!1),$optionsCategory:m([]),$selectedCategory:m(null)}},$formMode:m("idle"),$loading:m(!1)};templateSelfAssessments={$dataList:this.state.templateSelfAssessments.$dataList.asReadonly(),$dataLoading:this.state.templateSelfAssessments.$dataLoading.asReadonly(),$selectedData:this.state.templateSelfAssessments.$selectedData.asReadonly(),$cols:m([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"template",header:"Template",class_td:"!text-center"},{field:"department",header:"Department",class_td:"!text-center"},{field:"position",header:"Position",class_td:"!text-center"},{field:"level",header:"Level",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$pagingInfo:this.state.templateSelfAssessments.$pagingInfo.asReadonly(),$totalRowCount:this.state.templateSelfAssessments.$totalRowCount.asReadonly(),$optionsCategory:this.state.templateSelfAssessments.$optionsCategory.asReadonly(),$selectedCategory:this.state.templateSelfAssessments.$selectedCategory.asReadonly(),$searchText:I(()=>this.templateSelfAssessments.$selectedCategory()==="id"?parseInt(this.state.templateSelfAssessments.$searchText()):this.state.templateSelfAssessments.$searchText()),$filter:I(()=>{let e=null;return this.templateSelfAssessments.$selectedCategory()&&(e={},e[this.templateSelfAssessments.$selectedCategory()??""]=this.templateSelfAssessments.$searchText()??""),e}),$disabledTable:I(()=>this.state.$formMode()=="edit")};formTemplateSelfAssessments={mainForm:new Z({noTemplate:new L({value:null,disabled:!0}),department:new L({value:null,disabled:!0}),position:new L({value:null,disabled:!0}),unit:new L({value:null,disabled:!0}),level:new L({value:null,disabled:!0})}),$optionsDepartment:this.state.formTemplateSelfAssessments.$optionsDepartment.asReadonly(),$optionsPosition:this.state.formTemplateSelfAssessments.$optionsPosition.asReadonly(),$optionsLevel:this.state.formTemplateSelfAssessments.$optionsLevel.asReadonly(),$optionsUnit:this.state.formTemplateSelfAssessments.$optionsUnit.asReadonly(),attitudeSkillset:{$dataList:this.state.formTemplateSelfAssessments.attitudeSkillset.$dataList.asReadonly(),$dataLoading:this.state.formTemplateSelfAssessments.attitudeSkillset.$dataLoading.asReadonly(),$cols:m([{field:"reorder",header:"",class_td:"!text-center !max-w-[50px]",type:"reorder"},{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"assessmentCategory",header:"Category",class_td:"!text-center",type:"custom2"},{field:"indicator",header:"Indicator",class_td:"!text-center"},{field:"metricType",header:"Type of Answer",class_td:"!text-center",type:"custom2"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$optionsCategory:this.state.formTemplateSelfAssessments.attitudeSkillset.$optionsCategory.asReadonly(),$selectedCategory:this.state.formTemplateSelfAssessments.attitudeSkillset.$selectedCategory.asReadonly()},technicalSkillset:{$dataList:this.state.formTemplateSelfAssessments.technicalSkillset.$dataList.asReadonly(),$dataLoading:this.state.formTemplateSelfAssessments.technicalSkillset.$dataLoading.asReadonly(),$cols:m([{field:"reorder",header:"",class_td:"!text-center !max-w-[50px]",type:"reorder"},{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"techSkillCategory",header:"Category",class_td:"!text-center",type:"custom2"},{field:"indicator",header:"Tools",class_td:"!text-center"},{field:"metricType",header:"Type of Answer",class_td:"!text-center",type:"custom2"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$optionsCategory:this.state.formTemplateSelfAssessments.technicalSkillset.$optionsCategory.asReadonly(),$selectedCategory:this.state.formTemplateSelfAssessments.technicalSkillset.$selectedCategory.asReadonly()},summary:{$dataList:I(()=>[...this.state.formTemplateSelfAssessments.summarySet.$dataList()]),$dataLoading:I(()=>this.state.formTemplateSelfAssessments.summarySet.$dataLoading()),$cols:m([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"assessmentCatName",header:"Aspek",class_td:"!text-center"},{field:"bobot",header:"Bobot",class_td:"!text-center",type:"textBox"}]).asReadonly()}};$formMode=this.state.$formMode.asReadonly();$formTitle=I(()=>{switch(this.state.$formMode()){case"add":return"Add Template Self Assessments";case"edit":return"Update Template Self Assessments";case"view":return"View Template Self Assessments";default:return"Template Self Assessments"}});ref;init(){this.setSpinner(),this.setSearchCategory(),this.fillDepartment(),this.fillPosition(),this.fillUnit(),this.fillLevel(),this.populateList(),this.mainFormCondition(),this.mainFormChangeValue()}mainFormCondition(){_e(this.state.$formMode).subscribe(e=>{switch(e){case"add":this.formTemplateSelfAssessments.mainForm.enable(),this.formTemplateSelfAssessments.mainForm.get("noTemplate")?.disable(),this.formTemplateSelfAssessments.mainForm.reset(),this.fillDepartment();break;case"edit":this.formTemplateSelfAssessments.mainForm.enable(),this.formTemplateSelfAssessments.mainForm.get("noTemplate")?.disable(),this.fillDepartment();break;case"view":this.formTemplateSelfAssessments.mainForm.disable();break;default:this.formTemplateSelfAssessments.mainForm.disable();break}})}mainFormChangeValue(){B([this.formTemplateSelfAssessments.mainForm.get("department")?.valueChanges,j(300)]).subscribe(([e,t])=>{this.fillPosition()}),B([this.formTemplateSelfAssessments.mainForm.get("position")?.valueChanges,j(300)]).subscribe(([e,t])=>{this.fillLevel()}),B([this.formTemplateSelfAssessments.mainForm.get("unit")?.valueChanges,j(300)]).subscribe(([e,t])=>{this.fillUnit()})}setSpinner(){_e(this.state.$loading).subscribe(e=>e?this.spinnerService.show():this.spinnerService.hide())}fillDepartment(){this.employeeService.getDepartmentList().subscribe(e=>{if(e.status){let t=e.object.map(n=>({label:n.label,value:n.value}));this.state.formTemplateSelfAssessments.$optionsDepartment.set(t)}else console.error("Failed to fetch department list:",e.message)},e=>{console.error("Error fetching department list:",e)})}fillPosition(){this.employeeService.getPositionList().subscribe(e=>{if(e.status){let t=e.object.map(n=>({label:n.label,value:n.value}));this.state.formTemplateSelfAssessments.$optionsPosition.set(t)}else console.error("Failed to fetch position list:",e.message)},e=>{console.error("Error fetching position list:",e)})}fillLevel(){this.employeeService.getLevelList().subscribe(e=>{if(e.status){let t=e.object.map(n=>({label:n.label,value:n.value}));this.state.formTemplateSelfAssessments.$optionsLevel.set(t)}else console.error("Failed to fetch level list:",e.message)},e=>{console.error("Error fetching level list:",e)})}fillUnit(){this.employeeService.getUnitList().subscribe(e=>{if(e.status){let t=e.object.map(n=>({label:n.label,value:n.value}));this.state.formTemplateSelfAssessments.$optionsUnit.set(t)}else console.error("Failed to fetch unit list:",e.message)},e=>{console.error("Error fetching unit list:",e)})}populateList(){this.state.templateSelfAssessments.$dataLoading.set(!0);let e={wrapper:this.templateSelfAssessments.$filter(),pagingInfo:this.state.templateSelfAssessments.$pagingInfo(),totalRowCount:this.state.templateSelfAssessments.$totalRowCount()};this.state.templateSelfAssessments.$dataLoading.set(!1)}onLazyLoad(e){this.state.templateSelfAssessments.$pagingInfo.set(ye(Ce({},this.templateSelfAssessments.$pagingInfo()),{currentPage:Math.floor(e.first/e.rows)+1,pageSize:e.rows})),this.populateList()}setSearchCategory(){this.state.templateSelfAssessments.$optionsCategory.set([{label:"Semua",value:null},{label:"Template",value:"noTemplate"},{label:"Department",value:"department"},{label:"Position",value:"position"},{label:"Level",value:"level"}])}onSearchBtnClicked({category:e,search:t}){this.state.templateSelfAssessments.$selectedCategory.set(e),e&&this.state.templateSelfAssessments.$searchText.set(t),this.populateList()}addAction(e){this.state.$formMode.set("add")}deleteAction(e){}editAction(e){this.state.$formMode.set("edit"),this.formTemplateSelfAssessments.mainForm.patchValue(e),this.state.formTemplateSelfAssessments.attitudeSkillset.$dataList.set(e.selfAttitudeDetailList),this.state.formTemplateSelfAssessments.technicalSkillset.$dataList.set(e.selfTechDetailList)}validateSave(){let e=!0,t="";return this.formTemplateSelfAssessments.mainForm.invalid&&(this.formTemplateSelfAssessments.mainForm.markAllAsTouched(),t="Please fill all required fields",e=!1),this.formTemplateSelfAssessments.attitudeSkillset.$dataList().length===0&&(t="Please fill all required fields",e=!1),this.formTemplateSelfAssessments.technicalSkillset.$dataList().length===0&&(t="Please fill all required fields",e=!1),this.messageService.add({severity:"error",summary:"Error",detail:t}),e}setDataSave(){let e=new ae;return this.state.$formMode()=="edit"&&(e.id=this.state.templateSelfAssessments.$selectedData()?.id),e.noTemplate=this.formTemplateSelfAssessments.mainForm.get("noTemplate")?.value,e.departmentId=Number(this.formTemplateSelfAssessments.mainForm.get("department")?.value),e.positionId=Number(this.formTemplateSelfAssessments.mainForm.get("position")?.value),e.unitId=Number(this.formTemplateSelfAssessments.mainForm.get("unit")?.value),e.levelId=Number(this.formTemplateSelfAssessments.mainForm.get("level")?.value),e.default=!0,e.selfAttitudeDetailList=[...this.formTemplateSelfAssessments.attitudeSkillset.$dataList()],e.selfTechDetailList=[...this.formTemplateSelfAssessments.technicalSkillset.$dataList()],e.summaryList=[...this.formTemplateSelfAssessments.summary.$dataList()],e}saveAction(){if(!this.validateSave())return;let e=this.setDataSave();this.confirmationService.confirm({header:"Konfirmasi",message:"Apakah anda yakin ingin menyimpan data ini?",accept:()=>{this.confirmSave(e)}})}confirmSave(e){this.templateSelfAssessmentsService.save(e).pipe(be(()=>["add","edit"].includes(this.state.$formMode())),Te(t=>{if(t.status){let n=this.state.$formMode()=="edit"?"Edit User Berhasil!":"Simpan User Berhasil";this.messageService.add({severity:"success",summary:"Success",detail:n}),this.state.$formMode.set("idle")}else this.messageService.add({severity:"error",summary:"Error",detail:t.message});this.state.$loading.set(!1)}),Ae(()=>{this.state.$loading.set(!1)})).subscribe()}cancelAction(){this.state.$formMode.set("idle")}onLookupAttitudeSkillset(){this.ref=this.dialogService.open(je,{header:"Lookup Attitude Question",modal:!0}),this.ref.onClose.subscribe(e=>{let t=[];this.state.formTemplateSelfAssessments.summarySet.$dataList().forEach(d=>{console.log("d",d);let T=new V;T.assessmentCatId=d.assessmentCatId,T.assessmentCatName=d.assessmentCatName,T.bobot=d.bobot,t.push(T)}),console.log(e);let a=new V;a.assessmentCatId=e.assessmentCategory.id,a.assessmentCatName=e.assessmentCategory.name,a.bobot=0,t.push(a),this.state.formTemplateSelfAssessments.attitudeSkillset.$dataList.set([...this.formTemplateSelfAssessments.attitudeSkillset.$dataList(),e]),this.state.formTemplateSelfAssessments.summarySet.$dataList.set(t)}),this.state.$formMode.set("add")}onLookupTechnicalSkillset(){this.ref=this.dialogService.open(Ue,{header:"Lookup Skill Question",modal:!0}),this.ref.onClose.subscribe(e=>{let t=[];t.push(e),this.state.formTemplateSelfAssessments.technicalSkillset.$dataList.set(t)})}deleteAttitudeSkillset(e){this.state.formTemplateSelfAssessments.attitudeSkillset.$dataList.set(this.formTemplateSelfAssessments.attitudeSkillset.$dataList().filter(t=>t.id!==e.id)),this.state.formTemplateSelfAssessments.summarySet.$dataList.set(this.formTemplateSelfAssessments.summary.$dataList().filter(t=>!t.assessmentCatId&&t.assessmentCatId!==e.assessmentCatId))}deleteTechnicalSkillset(e){this.state.formTemplateSelfAssessments.technicalSkillset.$dataList.set(this.formTemplateSelfAssessments.technicalSkillset.$dataList().filter(t=>t.id!==e.id))}static \u0275fac=function(t){return new(t||s)(v(oe),v(xe),v(ke),v(Le),v(Pe),v(Be))};static \u0275prov=U({token:s,factory:s.\u0275fac})};var re=class s{templateSelfAssessmentsStore=k(C);searchForm=new Z({category:new L({value:null,disabled:!1}),search:new L({value:"",disabled:!0})});tempSearch={category:null,search:""};constructor(){this.onCategoryChanges(),this.onSearchChanges()}onCategoryChanges(){this.searchForm.controls.category.valueChanges.subscribe(e=>{console.log(e),this.tempSearch.category=e,this.searchForm.get("search")?.reset(),e?this.searchForm.get("search")?.enable():this.searchForm.get("search")?.disable()})}onSearchChanges(){this.searchForm.controls.search.valueChanges.subscribe(e=>{this.tempSearch.search=e})}onButtonClicked(){this.templateSelfAssessmentsStore.onSearchBtnClicked(this.tempSearch)}onRefresh(){this.searchForm.patchValue({category:null,search:""}),this.templateSelfAssessmentsStore.onSearchBtnClicked(this.tempSearch)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=y({type:s,selectors:[["app-template-assessments-search"]],standalone:!0,features:[b],decls:8,vars:2,consts:[[1,"appraisal-search","grid","grid-cols-6","grid-flow-rows","gap-2",3,"formGroup"],["styleClass","col-span-6 md:col-span-1","formControlName","category","name","category","appendTo","body",3,"options"],[1,"col-span-6","md:col-span-5"],["pInputText","","formControlName","search","name","search"],["icon","pi pi-search","label","Search",1,"w-full","!h-full",3,"click"],["icon","pi pi-refresh","label","Reset","severity","info",1,"w-full","!h-full",3,"click"]],template:function(t,n){t&1&&(l(0,"div",0),c(1,"p-dropdown",1),l(2,"p-inputgroup",2),c(3,"input",3),l(4,"p-inputgroup-addon")(5,"p-button",4),u("click",function(){return n.onButtonClicked()}),i()(),l(6,"p-inputgroup-addon")(7,"p-button",5),u("click",function(){return n.onRefresh()}),i()()()()),t&2&&(p("formGroup",n.searchForm),o(),p("options",n.templateSelfAssessmentsStore.templateSelfAssessments.$optionsCategory()))},dependencies:[A,M,E,Y,R,D,Me,Ee,Re,ee,te]})};var Je=()=>[5,10,20];function Xe(s,e){if(s&1&&(l(0,"th",10),f(1),i()),s&2){let t=e.$implicit;o(),$(" ",t.header," ")}}function Ye(s,e){if(s&1&&(l(0,"tr"),_(1,Xe,2,1,"th",9),i()),s&2){let t=e.$implicit;o(),p("ngForOf",t)}}function Ze(s,e){if(s&1&&(l(0,"td"),c(1,"div",13),i()),s&2){let t=r().$implicit,n=r().$implicit;S(t.class_td),o(),p("outerHTML",t.template(n[t.field]),O)}}function et(s,e){if(s&1){let t=w();l(0,"td")(1,"p-button",14),u("click",function(){h(t);let a=r(2).$implicit,d=r();return g(d.templateSelfAssessmentsStore.deleteAction(a))}),i(),l(2,"p-button",15),u("click",function(){h(t);let a=r(2).$implicit,d=r();return g(d.templateSelfAssessmentsStore.editAction(a))}),i()()}if(s&2){let t=r().$implicit;S(t.class_td)}}function tt(s,e){if(s&1&&(l(0,"td"),f(1),i()),s&2){let t=r().$implicit,n=r().rowIndex;S(t.class_td),o(),$(" ",n+1," ")}}function st(s,e){if(s&1&&(l(0,"td"),f(1),i()),s&2){let t=r().$implicit,n=r().$implicit;S(t.class_td),o(),$(" ",n[t.field]," ")}}function nt(s,e){if(s&1&&_(0,Ze,2,3,"td",12)(1,et,3,2,"td",12)(2,tt,2,3,"td",12)(3,st,2,3,"td",12),s&2){let t,n=e.$implicit;x((t=n.type)==="custom"?0:t==="action"?1:t==="no"?2:3)}}function it(s,e){if(s&1&&(l(0,"tr",11),q(1,nt,4,1,null,null,z),i()),s&2){let t=e.$implicit,n=e.columns;p("pSelectableRow",t),o(),W(n)}}function lt(s,e){if(s&1&&(l(0,"tr")(1,"td",16),f(2,"Data Kosong"),i()()),s&2){let t=r();o(),H("colspan",t.templateSelfAssessmentsStore.templateSelfAssessments.$cols().length)}}var pe=class s{templateSelfAssessmentsStore=k(C);static \u0275fac=function(t){return new(t||s)};static \u0275cmp=y({type:s,selectors:[["app-template-self-assessments-list"]],standalone:!0,features:[b],decls:13,vars:12,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[1,"card"],[1,"flex","justify-end","items-center","gap-1","flex-col","md:flex-row","mb-2","w-full"],["styleClass","p-button-contrast w-full","icon","pi pi-plus","label","Tambah Template",3,"click"],["showGridlines","",3,"onLazyLoad","columns","value","loading","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","totalRecords"],[3,"blocked","target"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],[3,"class"],[3,"outerHTML"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Hapus Role",3,"click"],["styleClass","p-button-info","icon","pi pi-pencil","pTooltip","Ubah Role",3,"click"],[1,"!text-center","w-full"]],template:function(t,n){if(t&1){let a=w();l(0,"div",4)(1,"div",5)(2,"p-button",6),u("click",function(T){return h(a),g(n.templateSelfAssessmentsStore.addAction(T))}),i(),c(3,"app-template-assessments-search"),i(),l(4,"p-table",7,0),u("onLazyLoad",function(T){return h(a),g(n.templateSelfAssessmentsStore.onLazyLoad(T))}),_(6,Ye,2,1,"ng-template",null,1,F)(8,it,3,1,"ng-template",null,2,F)(10,lt,3,1,"ng-template",null,3,F),i()(),c(12,"p-blockui",8)}if(t&2){let a=P(5),d=P(9);o(4),p("columns",n.templateSelfAssessmentsStore.templateSelfAssessments.$cols())("value",n.templateSelfAssessmentsStore.templateSelfAssessments.$dataList())("loading",n.templateSelfAssessmentsStore.templateSelfAssessments.$dataLoading())("paginator",!0)("rows",5)("rowsPerPageOptions",K(11,Je))("paginatorDropdownAppendTo",d)("lazy",!0)("totalRecords",n.templateSelfAssessmentsStore.templateSelfAssessments.$totalRowCount()),o(8),p("blocked",n.templateSelfAssessmentsStore.templateSelfAssessments.$disabledTable())("target",a)}},dependencies:[A,D,ne,ie,Q,le,J,re]})};function ot(s,e){if(s&1){let t=w();l(0,"div",10)(1,"label",11),f(2,"Category"),i()(),l(3,"p-select",12),Se("ngModelChange",function(a){h(t);let d=r();return ue(d.selectedCategory,a)||(d.selectedCategory=a),g(a)}),i()}if(s&2){let t=r();o(3),p("options",t.optionsCategory),fe("ngModel",t.selectedCategory)}}function rt(s,e){if(s&1){let t=w();l(0,"p-button",13),u("click",function(){h(t);let a=r();return g(a.onLookup.emit(!0))}),i()}if(s&2){let t=r();p("label",t.lookupLabel)}}function mt(s,e){if(s&1&&(l(0,"th",15),f(1),i()),s&2){let t=e.$implicit;o(),$(" ",t.header," ")}}function pt(s,e){if(s&1&&(l(0,"tr"),_(1,mt,2,1,"th",14),i()),s&2){let t=e.$implicit;o(),p("ngForOf",t)}}function dt(s,e){if(s&1&&(l(0,"td"),c(1,"div",18),i()),s&2){let t=r().$implicit,n=r().$implicit;S(t.class_td),o(),p("outerHTML",t.template(n[t.field]),O)}}function ct(s,e){if(s&1&&(l(0,"td"),f(1),i()),s&2){let t=r().$implicit,n=r().$implicit;S(t.class_td),o(),$(" ",n[t.field].name," ")}}function ft(s,e){if(s&1&&(l(0,"td"),c(1,"span",19),i()),s&2){let t=r().$implicit;S(t.class_td)}}function ut(s,e){if(s&1){let t=w();l(0,"td")(1,"p-button",20),u("click",function(){h(t);let a=r(2).$implicit,d=r();return g(d.deleteAction(a))}),i()()}if(s&2){let t=r().$implicit;S(t.class_td)}}function St(s,e){if(s&1&&(l(0,"td"),f(1),i()),s&2){let t=r().$implicit,n=r().rowIndex;S(t.class_td),o(),$(" ",n+1," ")}}function _t(s,e){if(s&1){let t=w();l(0,"td")(1,"input",21),Se("ngModelChange",function(a){h(t);let d=r(2).$implicit;return ue(d.bobot,a)||(d.bobot=a),g(a)}),u("change",function(){h(t);let a=r(3);return g(a.doSetBobot(a))}),i(),f(2," % "),i()}if(s&2){let t=r().$implicit,n=r().$implicit;S(t.class_td),o(),fe("ngModel",n.bobot)}}function ht(s,e){if(s&1&&(l(0,"td"),f(1),i()),s&2){let t=r().$implicit,n=r().$implicit;S(t.class_td),o(),$(" ",n[t.field]," ")}}function gt(s,e){if(s&1&&_(0,dt,2,3,"td",17)(1,ct,2,3,"td",17)(2,ft,2,2,"td",17)(3,ut,2,2,"td",17)(4,St,2,3,"td",17)(5,_t,3,3,"td",17)(6,ht,2,3,"td",17),s&2){let t,n=e.$implicit;x((t=n.type)==="custom"?0:t==="custom2"?1:t==="reorder"?2:t==="action"?3:t==="no"?4:t==="textBox"?5:6)}}function Ct(s,e){if(s&1&&(l(0,"tr",16),q(1,gt,7,1,null,null,z),i()),s&2){let t=e.$implicit,n=e.columns,a=e.rowIndex;p("pSelectableRow",t)("pReorderableRow",a),o(),W(n)}}function yt(s,e){if(s&1&&(l(0,"tr")(1,"td",22),f(2,"Data Kosong"),i()()),s&2){let t=r();o(),H("colspan",t.columns.length)}}var de=class s{columns=[];value=[];loading=!1;blocked=!1;optionsCategory=[{label:"Semua",value:null}];lookupLabel="Lookup";rowDelete=new G;onLookup=new G;selectedCategory=null;selectedCategoryChanges=new G;showCategory=!0;showLookup=!0;bobot=0;deleteAction(e){this.rowDelete.emit(e)}doSetBobot(e){e.value.forEach(t=>{t.bobot=t.bobot>100?100:t.bobot<0?0:t.bobot})}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=y({type:s,selectors:[["app-skillset-list"]],inputs:{columns:"columns",value:"value",loading:"loading",blocked:"blocked",optionsCategory:"optionsCategory",lookupLabel:"lookupLabel",selectedCategory:"selectedCategory",showCategory:"showCategory",showLookup:"showLookup"},outputs:{rowDelete:"rowDelete",onLookup:"onLookup",selectedCategoryChanges:"selectedCategoryChanges"},standalone:!0,features:[b],decls:14,vars:8,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[1,"card"],[1,"flex","justify-between","items-center","gap-1","flex-col","md:flex-row","mb-2","w-full"],[1,"grid","grid-cols-6","items-center","w-10/12"],["styleClass","p-button-contrast w-full","icon","pi pi-plus",3,"label"],["showGridlines","",3,"columns","value","loading","reorderableColumns"],[3,"blocked","target"],[1,"col-span-12","md:col-span-1"],["for","category"],["id","category","name","category","placeholder","-- pilih --","styleClass","col-span-3",3,"ngModelChange","options","ngModel"],["styleClass","p-button-contrast w-full","icon","pi pi-plus",3,"click","label"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow","pReorderableRow"],[3,"class"],[3,"outerHTML"],["pReorderableRowHandle","","pTooltip","Change Order",1,"pi","pi-bars"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Hapus Skillset",3,"click"],["id","bobot","pInputText","","type","number",3,"ngModelChange","change","ngModel"],[1,"!text-center","w-full"]],template:function(t,n){if(t&1&&(l(0,"div",4)(1,"div",5)(2,"div",6),_(3,ot,4,2),i(),_(4,rt,1,1,"p-button",7),i(),l(5,"p-table",8,0),_(7,pt,2,1,"ng-template",null,1,F)(9,Ct,3,2,"ng-template",null,2,F)(11,yt,3,1,"ng-template",null,3,F),i()(),c(13,"p-blockui",9)),t&2){let a=P(6);o(3),x(n.showCategory?3:-1),o(),x(n.showLookup?4:-1),o(),p("columns",n.columns)("value",n.value)("loading",n.loading)("reorderableColumns",!0),o(8),p("blocked",n.blocked)("target",a)}},dependencies:[A,M,Fe,E,we,R,se,D,ne,ie,De,Ie,Q,le,J]})};var ce=class s{templateSelfAssessmentsStore=k(C);formTemplateSelfAssessments=this.templateSelfAssessmentsStore.formTemplateSelfAssessments;static \u0275fac=function(t){return new(t||s)};static \u0275cmp=y({type:s,selectors:[["app-form-template-self-assessments"]],standalone:!0,features:[b],decls:42,vars:16,consts:[[1,"grid","grid-cols-12","gap-12",3,"formGroup"],[1,"col-span-12","md:col-span-6","grid","gap-2"],[1,"grid","grid-cols-12","items-center","gap-2"],[1,"col-span-12","md:col-span-4"],["for","noEmployee"],[1,"col-span-8"],["id","noEmployee","type","text","pInputText","","formControlName","noTemplate",1,"w-full"],["for","department"],["formControlName","department","id","department","name","department","placeholder","-- pilih --",1,"w-full",3,"options"],["for","position"],["formControlName","position","id","position","name","position","placeholder","-- pilih --",1,"w-full",3,"options"],["for","unit"],["formControlName","unit","id","unit","name","unit","placeholder","-- pilih --",1,"w-full",3,"options"],["for","level"],["formControlName","level","id","level","name","level","placeholder","-- pilih --",1,"w-full",3,"options"],[1,"flex","flex-col","gap-2","my-2"],["header","A. Attitude Skillset"],["lookupLabel","Lookup Indicator",3,"onLookup","rowDelete","columns","value","loading"],["header","B. Technical Skillset"],["lookupLabel","Lookup Tools",3,"onLookup","rowDelete","columns","value","loading"],["header","C. Summary"],[3,"columns","value","loading","showCategory","showLookup"],[1,"flex","justify-end","items-center","gap-2"],["styleClass","p-button-success","icon","pi pi-save","label","Simpan",3,"click"],["styleClass","p-button-danger","icon","pi pi-times","label","Batal",3,"click"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),f(5,"No Template"),i()(),l(6,"div",5),c(7,"input",6),i()(),l(8,"div",2)(9,"div",3)(10,"label",7),f(11,"Department"),i()(),l(12,"div",5),c(13,"p-select",8),i()(),l(14,"div",2)(15,"div",3)(16,"label",9),f(17,"Position"),i()(),l(18,"div",5),c(19,"p-select",10),i()(),l(20,"div",2)(21,"div",3)(22,"label",11),f(23,"Unit"),i()(),l(24,"div",5),c(25,"p-select",12),i()(),l(26,"div",2)(27,"div",3)(28,"label",13),f(29,"Level"),i()(),l(30,"div",5),c(31,"p-select",14),i()()()(),l(32,"div",15)(33,"p-panel",16)(34,"app-skillset-list",17),u("onLookup",function(){return n.templateSelfAssessmentsStore.onLookupAttitudeSkillset()})("rowDelete",function(d){return n.templateSelfAssessmentsStore.deleteAttitudeSkillset(d)}),i()(),l(35,"p-panel",18)(36,"app-skillset-list",19),u("onLookup",function(){return n.templateSelfAssessmentsStore.onLookupTechnicalSkillset()})("rowDelete",function(d){return n.templateSelfAssessmentsStore.deleteTechnicalSkillset(d)}),i()(),l(37,"p-panel",20),c(38,"app-skillset-list",21),i()(),l(39,"div",22)(40,"p-button",23),u("click",function(){return n.templateSelfAssessmentsStore.saveAction()}),i(),l(41,"p-button",24),u("click",function(){return n.templateSelfAssessmentsStore.cancelAction()}),i()()),t&2&&(p("formGroup",n.formTemplateSelfAssessments.mainForm),o(13),p("options",n.formTemplateSelfAssessments.$optionsDepartment()),o(6),p("options",n.formTemplateSelfAssessments.$optionsPosition()),o(6),p("options",n.formTemplateSelfAssessments.$optionsUnit()),o(6),p("options",n.formTemplateSelfAssessments.$optionsLevel()),o(3),p("columns",n.formTemplateSelfAssessments.attitudeSkillset.$cols())("value",n.formTemplateSelfAssessments.attitudeSkillset.$dataList())("loading",n.formTemplateSelfAssessments.attitudeSkillset.$dataLoading()),o(2),p("columns",n.formTemplateSelfAssessments.technicalSkillset.$cols())("value",n.formTemplateSelfAssessments.technicalSkillset.$dataList())("loading",n.formTemplateSelfAssessments.technicalSkillset.$dataLoading()),o(2),p("columns",n.formTemplateSelfAssessments.summary.$cols())("value",n.formTemplateSelfAssessments.summary.$dataList())("loading",n.formTemplateSelfAssessments.summary.$dataLoading())("showCategory",!1)("showLookup",!1))},dependencies:[A,X,M,E,Y,R,se,D,ee,te,de]})};var At=()=>["add","edit","view"];function Tt(s,e){s&1&&c(0,"app-template-self-assessments-list")}function vt(s,e){s&1&&c(0,"app-form-template-self-assessments")}var He=class s{templateSelfAssessmentsStore=k(C);static \u0275fac=function(t){return new(t||s)};static \u0275cmp=y({type:s,selectors:[["app-template-self-assessments"]],standalone:!0,features:[ve([C]),b],decls:4,vars:3,consts:[[1,"w-full"],[3,"header"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"p-panel",1),_(2,Tt,1,0,"app-template-self-assessments-list")(3,vt,1,0,"app-form-template-self-assessments"),i()()),t&2&&(o(),p("header",n.templateSelfAssessmentsStore.$formTitle()),o(),x(n.templateSelfAssessmentsStore.$formMode()==="idle"?2:K(2,At).includes(n.templateSelfAssessmentsStore.$formMode())?3:-1))},dependencies:[pe,ce,A,X]})};export{He as TemplateSelfAssessmentsComponent};
